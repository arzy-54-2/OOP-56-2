# ðŸ”’ 1. Ð˜Ð½ÐºÐ°Ð¿ÑÑƒÐ»ÑÑ†Ð¸Ñ (Encapsulation)
# ðŸ“Œ Ð§Ñ‚Ð¾ ÑÑ‚Ð¾ Ñ‚Ð°ÐºÐ¾Ðµ?
# Ð˜Ð½ÐºÐ°Ð¿ÑÑƒÐ»ÑÑ†Ð¸Ñ â€” ÑÑ‚Ð¾:
# ÑÐºÑ€Ñ‹Ñ‚Ð¸Ðµ Ð²Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½ÐµÐ¹ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ð¸ Ð¾Ð±ÑŠÐµÐºÑ‚Ð° Ð¸ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð¾Ð¼ Ðº Ð´Ð°Ð½Ð½Ñ‹Ð¼
# ÐŸÑ€Ð¾Ñ‰Ðµ:
# Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð½ÐµÐ»ÑŒÐ·Ñ Ð¼ÐµÐ½ÑÑ‚ÑŒ Ð½Ð°Ð¿Ñ€ÑÐ¼ÑƒÑŽ
# Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ñ‚ÑŒ Ñ Ð½Ð¸Ð¼Ð¸ Ð¼Ð¾Ð¶Ð½Ð¾ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ñ‡ÐµÑ€ÐµÐ· Ð¼ÐµÑ‚Ð¾Ð´Ñ‹

# Ð’ Python Ð½ÐµÑ‚ Ð½Ð°ÑÑ‚Ð¾ÑÑ‰ÐµÐ¹ Ð¶Ñ‘ÑÑ‚ÐºÐ¾Ð¹ Ð·Ð°Ñ‰Ð¸Ñ‚Ñ‹, ÐºÐ°Ðº Ð² Java/C++
# âž¡ï¸ ÐµÑÑ‚ÑŒ ÑÐ¾Ð³Ð»Ð°ÑˆÐµÐ½Ð¸Ñ Ð¾Ð± Ð¸Ð¼ÐµÐ½Ð¾Ð²Ð°Ð½Ð¸Ð¸

# Ð£Ñ€Ð¾Ð²ÐµÐ½ÑŒ	    Ð—Ð°Ð¿Ð¸ÑÑŒ	    Ð—Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ

# Public	    attr	    Ð´Ð¾ÑÑ‚ÑƒÐ¿ÐµÐ½ Ð²ÐµÐ·Ð´Ðµ
# Protected	    _attr	    Â«Ð´Ð»Ñ Ð½Ð°ÑÐ»ÐµÐ´Ð½Ð¸ÐºÐ¾Ð²Â»
# Private	    __attr	    ÑÐºÑ€Ñ‹Ñ‚ Ð²Ð½ÑƒÑ‚Ñ€Ð¸ ÐºÐ»Ð°ÑÑÐ°


class User:
    def __init__(self, name):
        self.name = name  # public
        
user = User("Ali")
print(user.name)      # âœ…
user.name = "Oleg"    # âœ…

# â— ÐœÐ¸Ð½ÑƒÑ:
# Ð¼Ð¾Ð¶Ð½Ð¾ ÑÐ»ÑƒÑ‡Ð°Ð¹Ð½Ð¾ ÑÐ»Ð¾Ð¼Ð°Ñ‚ÑŒ Ð»Ð¾Ð³Ð¸ÐºÑƒ
# Ð½ÐµÑ‚ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ñ

# 2ï¸âƒ£ Protected (Ð·Ð°Ñ‰Ð¸Ñ‰Ñ‘Ð½Ð½Ñ‹Ð¹) _
# Ð¾Ð´Ð½Ð¾ Ð¿Ð¾Ð´Ñ‡Ñ‘Ñ€ÐºÐ¸Ð²Ð°Ð½Ð¸Ðµ
# Ð¾Ð·Ð½Ð°Ñ‡Ð°ÐµÑ‚:
# Â«ÑÑ‚Ð¾ Ð²Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½ÐµÐµ Ð¿Ð¾Ð»Ðµ, Ð½Ðµ Ñ‚Ñ€Ð¾Ð³Ð°Ð¹ ÑÐ½Ð°Ñ€ÑƒÐ¶Ð¸Â»
# Ð­Ñ‚Ð¾ Ð´Ð¾Ð³Ð¾Ð²Ð¾Ñ€Ñ‘Ð½Ð½Ð¾ÑÑ‚ÑŒ, Ð° Ð½Ðµ Ð·Ð°Ð¿Ñ€ÐµÑ‚

# ðŸ§  ÐŸÑ€Ð¸Ð¼ÐµÑ€: Protected Ð¿Ð¾Ð»Ðµ
class Account:
    def __init__(self, balance):
        self._balance = balance
        
    def apply_bonus(self):
        self._balance += 100
        
class PremiumAccount(Account):
    def apply_bonus(self):
        self._balance *= 100
        
account = Account(1000)
print(account._balance)   # âš ï¸ Ñ‚ÐµÑ…Ð½Ð¸Ñ‡ÐµÑÐºÐ¸ Ð¼Ð¾Ð¶Ð½Ð¾
# â— ÐŸÐ¾Ñ‡ÐµÐ¼Ñƒ Ð¿Ð»Ð¾Ñ…Ð¾:
# Ð½Ð°Ñ€ÑƒÑˆÐ°ÐµÐ¼ Ð¸Ð½ÐºÐ°Ð¿ÑÑƒÐ»ÑÑ†Ð¸ÑŽ
# ÐºÐ¾Ð´ ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑÑ Ñ…Ñ€ÑƒÐ¿ÐºÐ¸Ð¼

acc = PremiumAccount(1000)
acc.apply_bonus()
print(acc._balance)  # 1100
# âœ… ÐŸÑ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ‹Ð¹ ÑÑ†ÐµÐ½Ð°Ñ€Ð¸Ð¹ Ð´Ð»Ñ _attr
# â€” Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ Ð²Ð½ÑƒÑ‚Ñ€Ð¸ ÐºÐ»Ð°ÑÑÐ° Ð¸ Ð½Ð°ÑÐ»ÐµÐ´Ð½Ð¸ÐºÐ¾Ð²

# ðŸ§  Ð–Ð¸Ð·Ð½ÐµÐ½Ð½Ñ‹Ð¹ Ð¿Ñ€Ð¸Ð¼ÐµÑ€

# Ð‘Ð°Ð½ÐºÐ¾Ð²ÑÐºÐ°Ñ ÐºÐ°Ñ€Ñ‚Ð° ðŸ’³
# Ð¢Ñ‹:
# Ð½Ðµ Ð·Ð½Ð°ÐµÑˆÑŒ, ÐºÐ°Ðº Ð¸Ð¼ÐµÐ½Ð½Ð¾ Ð±Ð°Ð½Ðº Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ Ð´ÐµÐ½ÑŒÐ³Ð¸
# Ð½Ðµ Ð¼Ð¾Ð¶ÐµÑˆÑŒ Ð½Ð°Ð¿Ñ€ÑÐ¼ÑƒÑŽ Ð¼ÐµÐ½ÑÑ‚ÑŒ Ð±Ð°Ð»Ð°Ð½Ñ
# Ð¼Ð¾Ð¶ÐµÑˆÑŒ Ñ‚Ð¾Ð»ÑŒÐºÐ¾:
# - Ð¿Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÑŒ
# - ÑÐ½ÑÑ‚ÑŒ
# - Ð¿Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð±Ð°Ð»Ð°Ð½Ñ
# âž¡ï¸ Ð­Ñ‚Ð¾ Ð¸ ÐµÑÑ‚ÑŒ Ð¸Ð½ÐºÐ°Ð¿ÑÑƒÐ»ÑÑ†Ð¸Ñ.

class BankAccount:
    def __init__(self, balance):
        self.__balance = balance  # Ð¿Ñ€Ð¸Ð²Ð°Ñ‚Ð½Ð¾Ðµ Ð¿Ð¾Ð»Ðµ

    def get_balance(self):
        return self.__balance

    def deposit(self, amount):
        if amount > 0:
            self.__balance += amount

    def withdraw(self, amount):
        if amount <= self.__balance:
            self.__balance -= amount
        else:
            print("ÐÐµÐ´Ð¾ÑÑ‚Ð°Ñ‚Ð¾Ñ‡Ð½Ð¾ ÑÑ€ÐµÐ´ÑÑ‚Ð²")
            
account = BankAccount(1000)
# print(account.__balance)  # âŒ AttributeError
print(account.__dict__)
print(dir(account))

# ðŸ“Œ ÐšÐ¾Ð³Ð´Ð° Ñ‡Ñ‚Ð¾ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ?
# âœ… Public
# DTO
# Ð¿Ñ€Ð¾ÑÑ‚Ñ‹Ðµ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ñ‹
# ÐºÐ¾Ð½Ñ„Ð¸Ð³Ð¸

# âœ… Protected _
# Ð±Ð°Ð·Ð¾Ð²Ñ‹Ðµ ÐºÐ»Ð°ÑÑÑ‹
# Ð¿Ð¾Ð»Ñ Ð´Ð»Ñ Ð½Ð°ÑÐ»ÐµÐ´Ð½Ð¸ÐºÐ¾Ð²
# Ð²Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½ÑÑ Ð»Ð¾Ð³Ð¸ÐºÐ°

# âœ… Private __
# Ð´ÐµÐ½ÑŒÐ³Ð¸
# Ð¿Ð°Ñ€Ð¾Ð»Ð¸
# Ñ‚Ð¾ÐºÐµÐ½Ñ‹

# ðŸŽ¯ ÐšÐ°Ðº Ð¾Ð±ÑŠÑÑÐ½Ð¸Ñ‚ÑŒ ÑƒÑ‡ÐµÐ½Ð¸ÐºÐ°Ð¼ Ð¾Ð´Ð½Ð¾Ð¹ Ñ„Ñ€Ð°Ð·Ð¾Ð¹
# name â€” Ð¼Ð¾Ð¶Ð½Ð¾ Ñ‚Ñ€Ð¾Ð³Ð°Ñ‚ÑŒ
# _name â€” Ð½Ðµ Ñ‚Ñ€Ð¾Ð³Ð°Ð¹, ÐµÑÐ»Ð¸ Ð½Ðµ Ð¿Ð¾Ð½Ð¸Ð¼Ð°ÐµÑˆÑŒ
# __name â€” Ñ‚ÑƒÐ´Ð° Ð²Ð¾Ð¾Ð±Ñ‰Ðµ Ð½Ðµ Ð»ÐµÐ·ÑŒ


# ðŸ“Œ Ð§Ñ‚Ð¾ Ñ‚Ð°ÐºÐ¾Ðµ Ð°Ð±ÑÑ‚Ñ€Ð°ÐºÑ†Ð¸Ñ?
# ÐÐ±ÑÑ‚Ñ€Ð°ÐºÑ†Ð¸Ñ â€” ÑÑ‚Ð¾ Ð¿Ñ€Ð¸Ð½Ñ†Ð¸Ð¿ ÐžÐžÐŸ, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ Ð³Ð¾Ð²Ð¾Ñ€Ð¸Ñ‚:
# ÐœÑ‹ Ð¾Ð¿Ð¸ÑÑ‹Ð²Ð°ÐµÐ¼ Ð§Ð¢Ðž Ð¾Ð±ÑŠÐµÐºÑ‚ Ð´Ð¾Ð»Ð¶ÐµÐ½ ÑƒÐ¼ÐµÑ‚ÑŒ Ð´ÐµÐ»Ð°Ñ‚ÑŒ,
# Ð½Ð¾ Ð½Ðµ Ð¾Ð¿Ð¸ÑÑ‹Ð²Ð°ÐµÐ¼ ÐšÐÐš Ð¾Ð½ ÑÑ‚Ð¾ Ð´ÐµÐ»Ð°ÐµÑ‚

# ðŸŒ Ð–Ð¸Ð·Ð½ÐµÐ½Ð½Ñ‹Ð¹ Ð¿Ñ€Ð¸Ð¼ÐµÑ€ â„–1 â€” ÐŸÑƒÐ»ÑŒÑ‚ Ð¾Ñ‚ Ñ‚ÐµÐ»ÐµÐ²Ð¸Ð·Ð¾Ñ€Ð° ðŸ“º
# Ð¢Ñ‹ Ð·Ð½Ð°ÐµÑˆÑŒ:
# ÐºÐ½Ð¾Ð¿ÐºÐ° Â«ONÂ» â€” Ð²ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ
# ÐºÐ½Ð¾Ð¿ÐºÐ° Â«OFFÂ» â€” Ð²Ñ‹ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ
# ÐºÐ½Ð¾Ð¿ÐºÐ° Â«VOL +Â» â€” Ð³Ñ€Ð¾Ð¼Ñ‡Ðµ

# Ð¢Ñ‹ Ð½Ðµ Ð·Ð½Ð°ÐµÑˆÑŒ:
# ÐºÐ°Ðº Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ ÑÐ»ÐµÐºÑ‚Ñ€Ð¾Ð½Ð¸ÐºÐ°
# ÐºÐ°Ðº Ð¿ÐµÑ€ÐµÐ´Ð°Ñ‘Ñ‚ÑÑ ÑÐ¸Ð³Ð½Ð°Ð»
# ÐºÐ°Ðº Ñ‚ÐµÐ»ÐµÐ²Ð¸Ð·Ð¾Ñ€ ÐµÐ³Ð¾ Ð¿Ð¾Ð½Ð¸Ð¼Ð°ÐµÑ‚
# âž¡ï¸ Ð¢Ñ‹ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑˆÑŒ Ñ Ð°Ð±ÑÑ‚Ñ€Ð°ÐºÑ†Ð¸ÐµÐ¹

# ðŸ§± ÐÐ±ÑÑ‚Ñ€Ð°ÐºÑ‚Ð½Ñ‹Ð¹ ÐºÐ»Ð°ÑÑ
# ðŸ“Œ Ð§Ñ‚Ð¾ ÑÑ‚Ð¾?
# ÐÐ±ÑÑ‚Ñ€Ð°ÐºÑ‚Ð½Ñ‹Ð¹ ÐºÐ»Ð°ÑÑ â€” ÑÑ‚Ð¾:
# ÐºÐ»Ð°ÑÑ-ÑˆÐ°Ð±Ð»Ð¾Ð½
# Ð¾Ð½ Ð½ÐµÐ»ÑŒÐ·Ñ ÑÐ¾Ð·Ð´Ð°Ñ‚ÑŒ Ð½Ð°Ð¿Ñ€ÑÐ¼ÑƒÑŽ
# Ð¾Ð½ Ð·Ð°Ð´Ð°Ñ‘Ñ‚ ÐºÐ¾Ð½Ñ‚Ñ€Ð°ÐºÑ‚

from abc import ABC, abstractmethod

class PaymentSystem(ABC):

    @abstractmethod
    def pay(self, amount):
        pass
    
ps = PaymentSystem()  # âŒ TypeError

# â— ÐŸÐ¾Ñ‚Ð¾Ð¼Ñƒ Ñ‡Ñ‚Ð¾:
# Ð¼ÐµÑ‚Ð¾Ð´ pay() Ð½Ðµ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ð½
# ÐºÐ»Ð°ÑÑ Ð½ÐµÐ¿Ð¾Ð»Ð½Ñ‹Ð¹

class Visa(PaymentSystem):
    def pay(self, amount):
        print(f"ÐžÐ¿Ð»Ð°Ñ‚Ð° {amount} Ñ‡ÐµÑ€ÐµÐ· Visa")


class MasterCard(PaymentSystem):
    def pay(self, amount):
        print(f"ÐžÐ¿Ð»Ð°Ñ‚Ð° {amount} Ñ‡ÐµÑ€ÐµÐ· MasterCard")


cards = [Visa(), MasterCard()]

for card in cards:
    card.pay(1000)

# ðŸ” Ð§Ñ‚Ð¾ Ð²Ð°Ð¶Ð½Ð¾ Ð¾Ð±ÑŠÑÑÐ½Ð¸Ñ‚ÑŒ ÑƒÑ‡ÐµÐ½Ð¸ÐºÐ°Ð¼
# âž¡ï¸ Ð¦Ð¸ÐºÐ»Ñƒ Ð½Ðµ Ð²Ð°Ð¶Ð½Ð¾, ÐºÐ°ÐºÐ¾Ð¹ ÑÑ‚Ð¾ ÐºÐ»Ð°ÑÑ
# âž¡ï¸ Ð“Ð»Ð°Ð²Ð½Ð¾Ðµ â€” Ð¾Ð½ ÑƒÐ¼ÐµÐµÑ‚ pay()

# ðŸ§  Ð“Ð»Ð°Ð²Ð½Ð°Ñ Ð¸Ð´ÐµÑ Ð°Ð±ÑÑ‚Ñ€Ð°ÐºÑ†Ð¸Ð¸
# ÐšÐ¾Ð´ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ñ Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹ÑÐ¾Ð¼, Ð° Ð½Ðµ Ñ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸ÐµÐ¹

# ðŸ“Œ Ð§Ñ‚Ð¾ Ñ‚Ð°ÐºÐ¾Ðµ Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹Ñ Ð² Python?
# Ð’ Python Ð½ÐµÑ‚ Ð¾Ñ‚Ð´ÐµÐ»ÑŒÐ½Ð¾Ð³Ð¾ ÐºÐ»ÑŽÑ‡ÐµÐ²Ð¾Ð³Ð¾ ÑÐ»Ð¾Ð²Ð° interface,
# Ð½Ð¾ Ð°Ð±ÑÑ‚Ñ€Ð°ÐºÑ‚Ð½Ñ‹Ð¹ ÐºÐ»Ð°ÑÑ = Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹Ñ

